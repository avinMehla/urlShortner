ğŸ”— URL Shortener â€“ Backend (Spring Boot + MongoDB)

A backend service for shortening long URLs, tracking usage analytics, and redirecting users efficiently.
Built with Spring Boot and MongoDB, following clean architecture and REST best practices.

ğŸš€ Features

Create short URLs from long URLs

Return same short URL if the original URL already exists

Redirect short URLs to original URLs

Track:

Daily usage count  

Monthly usage count

Last accessed timestamp

Proper validation and exception handling

MongoDB auto-collection creation

Clean layered architecture (Controller â†’ Service â†’ Repository)
ğŸ›  Tech Stack

Java 17+

Spring Boot 4.x

Spring Web MVC

Spring Data MongoDB

MongoDB

Maven

ğŸ“ Project Structure
src/main/java/com/example/demo
â”‚
â”œâ”€â”€ controller
â”‚   â””â”€â”€ UrlController.java
â”‚
â”œâ”€â”€ service
â”‚   â””â”€â”€ UrlService.java
â”‚
â”œâ”€â”€ repository
â”‚   â””â”€â”€ UrlRepo.java
â”‚
â”œâ”€â”€ entities
â”‚   â””â”€â”€ UrlEntity.java
â”‚
â”œâ”€â”€ exception
â”‚   â”œâ”€â”€ BadRequestException.java
â”‚   â”œâ”€â”€ NotFoundException.java
â”‚   â””â”€â”€ GlobalExceptionHandler.java
â”‚
â”œâ”€â”€ util
â”‚   â””â”€â”€ HashUtil.java
â”‚
â””â”€â”€ UrlShortnerApplication.java

âš™ï¸ Configuration
application.properties
spring.data.mongodb.uri=mongodb://localhost:27017/urlshortener
server.port=8080


Make sure MongoDB is running locally on port 27017.

ğŸ“Œ API Endpoints
1ï¸âƒ£ Create Short URL

POST /shorten

Request Body (JSON):

{
  "url": "https://www.google.com"
}


Response (String):

abc123


Returns existing short key if URL already exists

Does not update usage counters

2ï¸âƒ£ Redirect to Original URL

GET /{shortKey}

Example:

GET /abc123


Behavior:

Redirects to original URL

Increments:

dayCount

monthCount

Updates last access timestamp

âŒ Error Handling
Scenario	Status Code	Message
Empty or missing URL	400	URL must not be empty
Short URL not found	404	URL not found
Server errors	500	Internal Server Error

Handled centrally using @RestControllerAdvice.

ğŸ§  Design Decisions

Counters update only on redirect, not on creation

Same URL â†’ Same short key (idempotent POST)

Controller kept thin; business logic in service layer

MongoDB chosen for flexibility and fast reads

â–¶ï¸ Running the Project
mvn clean install
mvn spring-boot:run


Server starts at:

http://localhost:8080

ğŸ§ª Testing

You can test APIs using:

Postman

Curl

Frontend (React â€“ upcoming)

Make sure to set:

Content-Type: application/json

ğŸ”® Future Enhancements

Scheduled cleanup for unused URLs

Expiry policy

Authentication & rate limiting

Frontend UI (React)

Analytics dashboard

ğŸ‘¨â€ğŸ’» Author

Built as a learning + production-style project to understand:

REST APIs

Spring Boot internals

MongoDB integration

Backend architecture
